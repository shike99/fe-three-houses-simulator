(this["webpackJsonpfe-three-houses-simulator"]=this["webpackJsonpfe-three-houses-simulator"]||[]).push([[0],[,,function(e,t,n){e.exports={growthRate:"GrowthRateTable_growthRate__TAPpi",breakdown:"GrowthRateTable_breakdown__2OklJ"}},,,,,function(e,t,n){e.exports={main:"Simulator_main__1zKgt",selectBox:"Simulator_selectBox__2iiPG",result:"Simulator_result__2SccD",title:"Simulator_title__1GcD1"}},,,function(e,t,n){e.exports={selectBox:"SelectBox_selectBox__XJ1S2"}},function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),i=n.n(l),c=(n(16),n(6)),s=n(1),o=n.n(s),u=n(4),h=n(3),m=n(5);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){function e(t,n,a,r,l,i,c,s,o){Object(h.a)(this,e),this.hitPoint=t,this.strength=n,this.magicStrength=a,this.skill=r,this.agility=l,this.luck=i,this.defense=c,this.magicDefense=s,this.charm=o}return Object(m.a)(e,null,[{key:"calculate",value:function(t,n){return new e(t.hitPoint+n.hitPoint,t.strength+n.strength,t.magicStrength+n.magicStrength,t.skill+n.skill,t.agility+n.agility,t.luck+n.luck,t.defense+n.defense,t.magicDefense+n.magicDefense,t.charm+n.charm)}}]),e}();g.SKILL_CORRECTION_VALUE=20;var b=function(){function e(t,n,a,r,l,i,c){Object(h.a)(this,e),this.id=t,this.name=n,this.englishName=a,this.sex=r,this.socialPosition=l,this.affiliation=i,this.growthRate=c}return Object(m.a)(e,[{key:"extractTakableJobs",value:function(e){var t=this;return e.filter((function(e){return e.exclusiveUseOf?e.exclusiveUseOf.includes(t.englishName):e.genderRestriction?e.genderRestriction===t.sex:!e.socialPositionRestriction||e.socialPositionRestriction===t.socialPosition}))}},{key:"skillCorrectedGrowthRate",get:function(){var e=g.SKILL_CORRECTION_VALUE;return"cyril"===this.englishName?new g(this.growthRate.hitPoint+e,this.growthRate.strength+e,this.growthRate.magicStrength+e,this.growthRate.skill+e,this.growthRate.agility+e,this.growthRate.luck+e,this.growthRate.defense+e,this.growthRate.magicDefense+e,this.growthRate.charm+e):void 0}}]),e}(),p=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"call",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://sheetdb.io/api/v1/kqstwgv6uhhj7?sheet=\u30ad\u30e3\u30e9\u6210\u9577\u7387",e.next=3,d("https://sheetdb.io/api/v1/kqstwgv6uhhj7?sheet=\u30ad\u30e3\u30e9\u6210\u9577\u7387");case 3:return t=e.sent,e.abrupt("return",this.toModel(t));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toModel",value:function(e){return e.map((function(e){return new b(Number(e.id),e.name,e.englishName,e.sex,e.socialPosition,e.affiliation,new g(Number(e.hitPoint),Number(e.strength),Number(e.magicStrength),Number(e.skill),Number(e.agility),Number(e.luck),Number(e.defense),Number(e.magicDefense),Number(e.charm)))}))}}]),e}(),v=function e(t,n,a,r,l,i,c){Object(h.a)(this,e),this.id=t,this.name=n,this.level=a,this.growthRate=r,this.exclusiveUseOf=l,this.genderRestriction=i,this.socialPositionRestriction=c},w=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"call",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://sheetdb.io/api/v1/kqstwgv6uhhj7?sheet=\u5175\u7a2e\u6210\u9577\u7387",e.next=3,d("https://sheetdb.io/api/v1/kqstwgv6uhhj7?sheet=\u5175\u7a2e\u6210\u9577\u7387");case 3:return t=e.sent,e.abrupt("return",this.toModel(t));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toModel",value:function(e){return e.map((function(e){return new v(Number(e.id),e.name,e.level,new g(Number(e.hitPoint),Number(e.strength),Number(e.magicStrength),Number(e.skill),Number(e.agility),Number(e.luck),Number(e.defense),Number(e.magicDefense),Number(e.charm)),e.exclusiveUseOf?e.exclusiveUseOf.split(","):void 0,e.genderRestriction?e.genderRestriction:void 0,e.socialPositionRestriction?e.socialPositionRestriction:void 0)}))}}]),e}();var E=n(10),k=n.n(E),N=function(e){var t=e.defaultOption,n=e.options,l=e.selectedValue,i=e.className,c=e.handleChange,s=Object(a.createRef)();return r.a.createElement("label",{className:"".concat(k.a.selectBox," ").concat(i)},r.a.createElement("select",{onChange:function(){var e;return c(null===(e=s.current)||void 0===e?void 0:e.value)},ref:s,value:l},r.a.createElement("option",{value:t.value},t.label),n.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}))),r.a.createElement("span",null))},R=function(e){var t=e.characters,n=e.selectedCharacter,a=e.className,l=e.selectCharacter,i={label:"\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u3092\u9078\u629e",value:"0"},c=t.map((function(e){return{label:e.name,value:e.id.toString()}})),s=n?n.id.toString():i.value;return r.a.createElement(N,{className:a,defaultOption:i,options:c,selectedValue:s,handleChange:function(e){var n=t.find((function(t){return t.id===Number(e)}));l(n)}})},j=function(e){var t=e.character,n=e.jobs,a=e.selectedJob,l=e.selectJob,i=e.className,c={label:"\u5175\u7a2e\u3092\u9078\u629e",value:"0"},s=t?t.extractTakableJobs(n):[],o=s.map((function(e){return{label:e.name,value:e.id.toString()}})),u=a?a.id.toString():c.value;return r.a.createElement(N,{className:i,defaultOption:c,options:o,selectedValue:u,handleChange:function(e){var t=s.find((function(t){return t.id===Number(e)}));l(t)}})},O=n(2),x=n.n(O),y=function(e){var t=e.characterGrowthRate,n=e.jobGrowthRate,a=g.calculate(t,n);return r.a.createElement("ul",{className:x.a.growthRate},r.a.createElement("li",null,r.a.createElement("dt",null,"HP"),r.a.createElement("dd",null,r.a.createElement("span",null,a.hitPoint),r.a.createElement("span",{className:x.a.breakdown},"(",t.hitPoint," + ",n.hitPoint,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u529b"),r.a.createElement("dd",null,r.a.createElement("span",null,a.strength),r.a.createElement("span",{className:x.a.breakdown},"(",t.strength," + ",n.strength,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u9b54\u529b"),r.a.createElement("dd",null,r.a.createElement("span",null,a.magicStrength),r.a.createElement("span",{className:x.a.breakdown},"(",t.magicStrength," + ",n.magicStrength,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u6280"),r.a.createElement("dd",null,r.a.createElement("span",null,a.skill),r.a.createElement("span",{className:x.a.breakdown},"(",t.skill," + ",n.skill,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u901f\u3055"),r.a.createElement("dd",null,r.a.createElement("span",null,a.agility),r.a.createElement("span",{className:x.a.breakdown},"(",t.agility," + ",n.agility,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u5e78\u904b"),r.a.createElement("dd",null,r.a.createElement("span",null,a.luck),r.a.createElement("span",{className:x.a.breakdown},"(",t.luck," + ",n.luck,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u5b88\u5099"),r.a.createElement("dd",null,r.a.createElement("span",null,a.defense),r.a.createElement("span",{className:x.a.breakdown},"(",t.defense," + ",n.defense,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u9b54\u9632"),r.a.createElement("dd",null,r.a.createElement("span",null,a.magicDefense),r.a.createElement("span",{className:x.a.breakdown},"(",t.magicDefense," + ",n.magicDefense,")"))),r.a.createElement("li",null,r.a.createElement("dt",null,"\u9b45\u529b"),r.a.createElement("dd",null,r.a.createElement("span",null,a.charm),r.a.createElement("span",{className:x.a.breakdown},"(",t.charm," + ",n.charm,")"))))},S=n(7),_=n.n(S);var P=function(){var e=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)([]),i=Object(c.a)(l,2),s=i[0],h=i[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.call();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.call();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Promise.all([e(),t()])}),[]),{characters:n,jobs:s}}(),t=e.characters,n=e.jobs,l=Object(a.useState)(null),i=Object(c.a)(l,2),s=i[0],h=i[1],m=Object(a.useState)(null),d=Object(c.a)(m,2),f=d[0],g=d[1];return r.a.createElement("main",{className:_.a.main},r.a.createElement(R,{className:_.a.selectBox,characters:t,selectedCharacter:s,selectCharacter:function(e){g(null),h(e)}}),r.a.createElement(j,{className:_.a.selectBox,character:s,jobs:n,selectedJob:f,selectJob:function(e){return g(e)}}),s&&f&&r.a.createElement("section",{className:_.a.result},r.a.createElement("h2",{className:_.a.title},s.name," - ",f.name),r.a.createElement(y,{characterGrowthRate:s.growthRate,jobGrowthRate:f.growthRate}),s.skillCorrectedGrowthRate&&r.a.createElement(y,{characterGrowthRate:s.skillCorrectedGrowthRate,jobGrowthRate:f.growthRate})))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");C?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}()}],[[11,1,2]]]);
//# sourceMappingURL=main.3021388e.chunk.js.map